var danceword={interval:35,loop:false,isComeHere:function(f){var d=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;var e=$(window).height();return(d+e-$(f).offset().top)>=$(f).height()},isVisible:function(f){var d=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;var e=$(window).height();return d+e-$(f).offset().top>=$(f).height()&&$(f).offset().top+$(f).height()>=d},showCore:function(){var b=this;if(!b.loop){$("[class^='danceWord']:not(.past)").each(function(){var h=$.trim($(this).text());var g="";var j=this;var a=$(this).text().length;for(var i in h){g+="<span>"+h[i]+"</span>"}g=g.replace(/<\/span><span>([\，\,\。\.\!\！\?\？])/g,"$1");$(this).html(g);if(b.isComeHere(j)){$(j).find("span").each(function(c,d){var e=this;setTimeout(function(){$(e).addClass("ele")},(c+1)*b.interval)});setTimeout(function(){$(j).html($(j).text())},a*b.interval+1000);$(j).addClass("past")}})}else{$("[class^='danceWord']").each(function(){var j=this;var a=$(this).text().length;if(!b.isVisible(j)){$(j).removeClass("past");var h=$.trim($(j).text());var g="";for(var i in h){g+="<span>"+h[i]+"</span>"}g=g.replace(/<\/span><span>([\，\,\。\.\!\！\?\？])/g,"$1");$(j).html(g)}if(b.isVisible(j)&&!$(j).hasClass("past")){var h=$.trim($(j).text());var g="";for(var i in h){g+="<span>"+h[i]+"</span>"}g=g.replace(/<\/span><span>([\，\,\。\.\!\！\?\？])/g,"$1");$(j).html(g).addClass("past");$(j).find("span").each(function(c,d){var e=this;setTimeout(function(){$(e).addClass("ele")},(c+1)*b.interval)});setTimeout(function(){$(j).html($(j).text())},a*b.interval+1000)}})}},init:function(a){var d=danceword;if(typeof a=="object"){$.extend(d,a)}d.showCore();window.onscroll=function(){d.showCore()}}};window.onload=danceword.init;